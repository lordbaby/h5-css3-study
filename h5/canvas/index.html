<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>canvas</title>
    <style type="text/css">
    #canvas {
        border: 1px solid #aaa;
        display: block;
        margin: 50px auto;
    }
    </style>
</head>

<body>
    <canvas id="canvas" width="800" height="600">
        当前浏览器不支持Canvas，请更换浏览器再试
    </canvas>
    <script type="text/javascript">
    var tangram = [{
        p: [{
            x: 0,
            y: 0
        }, {
            x: 800,
            y: 0
        }, {
            x: 400,
            y: 400
        }],
        color: "#caff67"
    }, {
        p: [{
            x: 0,
            y: 0
        }, {
            x: 400,
            y: 400
        }, {
            x: 0,
            y: 800
        }],
        color: "#67beef"
    }, {
        p: [{
            x: 800,
            y: 0
        }, {
            x: 800,
            y: 400
        }, {
            x: 600,
            y: 600
        }, {
            x: 600,
            y: 200
        }],
        color: "#ef3d61"
    }, {
        p: [{
            x: 600,
            y: 200
        }, {
            x: 600,
            y: 600
        }, {
            x: 400,
            y: 400
        }],
        color: "#f9f51a"
    }, {
        p: [{
            x: 400,
            y: 400
        }, {
            x: 600,
            y: 600
        }, {
            x: 400,
            y: 800
        }, {
            x: 200,
            y: 600
        }],
        color: "#a594c0"
    }, {
        p: [{
            x: 200,
            y: 600
        }, {
            x: 400,
            y: 800
        }, {
            x: 0,
            y: 800
        }],
        color: "#fa8ccc"
    }, {
        p: [{
            x: 800,
            y: 400
        }, {
            x: 800,
            y: 800
        }, {
            x: 400,
            y: 800
        }],
        color: "#f6ca29"
    }];

    window.onload = function() {
        var canvas = document.getElementById('canvas');

        canvas.width = 800;
        canvas.height = 800;

        var ctx = canvas.getContext('2d');

        if (ctx) {
            //使用ctx开始绘制(基于状态开始绘制的)
            //1.七巧板
            for (var i = 0; i < tangram.length; i++) {
                draw(tangram[i], ctx);
            }
        } else {
            alert('当前浏览器不支持Canvas，请更换浏览器再试');
        }
    }

    function draw(p, ctx) {
        ctx.beginPath();
        var coordinate = p.p;
        ctx.moveTo(coordinate[0].x, coordinate[0].y);
        for (var i = 1; i < coordinate.length; i++) {
            ctx.lineTo(coordinate[i].x, coordinate[i].y);
        }
        ctx.closePath();

        ctx.fillStyle = p.color;
        ctx.fill();
    }
    </script>
</body>

</html>
